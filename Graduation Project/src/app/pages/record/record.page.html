<ion-header>
  <ion-toolbar>
      <ion-menu-button slot="start"></ion-menu-button>
    <ion-title>record</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="admin == 0">
  
  <ion-list-header style="font-size: 1.4pc">未處理</ion-list-header>  
  <ion-list *ngFor = "let item of items" class="list">
    <ion-item *ngIf = "item.payload.doc.data().Reporter_UID == userUID && item.payload.doc.data().Processing_Progress == 'UNPROCESSED' " [routerLink]="['/record-detail',item.payload.doc.id]">
      <ion-avatar slot="start">
        <img src="assets/img/warning.png">
      </ion-avatar>     
      <ion-label>
        <h2>{{item.payload.doc.data().Report_Date}} - {{item.payload.doc.data().Report_Time}}</h2>
        <h2>{{item.payload.doc.data().Event_location}}</h2><br>
        <p>{{item.payload.doc.data().Event_description}}</p><br>
      </ion-label>
          
    </ion-item> 
  </ion-list>

  
  <ion-list-header style="font-size: 1.4pc">處理中</ion-list-header>  
  <ion-list *ngFor = "let item of items" class="list">
    <ion-item *ngIf = "item.payload.doc.data().Reporter_UID == userUID && item.payload.doc.data().Processing_Progress == 'PROCESSING' " [routerLink]="['/record-detail',item.payload.doc.id]">
      <ion-avatar slot="start">
          <img src="assets/img/warning.png">
        </ion-avatar>     
        <ion-label>
          <h2>{{item.payload.doc.data().Report_Date}} - {{item.payload.doc.data().Report_Time}}</h2>
          <h2>{{item.payload.doc.data().Event_location}}</h2><br>
          <p>{{item.payload.doc.data().Event_description}}</p><br>
        </ion-label>

    </ion-item> 
  </ion-list>  

  
  <ion-list-header style="font-size: 1.4pc">已處理</ion-list-header>  
  <ion-list *ngFor = "let item of items" class="list">
    <ion-item *ngIf = "item.payload.doc.data().Reporter_UID == userUID && item.payload.doc.data().Processing_Progress == 'PROCESSED' " [routerLink]="['/record-detail',item.payload.doc.id]">

      <ion-avatar slot="start">
          <img src="assets/img/warning.png">
        </ion-avatar>     
        <ion-label>
          <h2>{{item.payload.doc.data().Report_Date}} - {{item.payload.doc.data().Report_Time}}</h2>
          <h2>{{item.payload.doc.data().Event_location}}</h2><br>
          <p>{{item.payload.doc.data().Event_description}}</p><br>
        </ion-label>



    </ion-item> 
  </ion-list>  
</ion-content>


<!--以下為管理員才顯示-->


<ion-content *ngIf="admin == 1">
  
  <ion-list-header style="font-size: 1.4pc">未處理</ion-list-header>  
  <ion-list *ngFor = "let item of items" class="list">
    <ion-item *ngIf = "item.payload.doc.data().Processing_Progress == 'UNPROCESSED' " [routerLink]="['/record-detail',item.payload.doc.id]">
      <ion-avatar slot="start">
        <img src="assets/img/warning.png">
      </ion-avatar>     
      <ion-label>
        <h2>{{item.payload.doc.data().Report_Date}} - {{item.payload.doc.data().Report_Time}}</h2>
        <h2>{{item.payload.doc.data().Event_location}}</h2><br>
        <p>{{item.payload.doc.data().Event_description}}</p><br>
      </ion-label>
          
    </ion-item> 
  </ion-list>

  
  <ion-list-header style="font-size: 1.4pc">處理中</ion-list-header>  
  <ion-list *ngFor = "let item of items" class="list">
    <ion-item *ngIf = "item.payload.doc.data().Processing_Progress == 'PROCESSING' " [routerLink]="['/record-detail',item.payload.doc.id]">
      <ion-avatar slot="start">
          <img src="assets/img/warning.png">
        </ion-avatar>     
        <ion-label>
          <h2>{{item.payload.doc.data().Report_Date}} - {{item.payload.doc.data().Report_Time}}</h2>
          <h2>{{item.payload.doc.data().Event_location}}</h2><br>
          <p>{{item.payload.doc.data().Event_description}}</p><br>
        </ion-label>

    </ion-item> 
  </ion-list>  

  
  <ion-list-header style="font-size: 1.4pc">已處理</ion-list-header>  
  <ion-list *ngFor = "let item of items" class="list">
    <ion-item *ngIf = "item.payload.doc.data().Processing_Progress == 'PROCESSED' " [routerLink]="['/record-detail',item.payload.doc.id]">

      <ion-avatar slot="start">
          <img src="assets/img/warning.png">
        </ion-avatar>     
        <ion-label>
          <h2>{{item.payload.doc.data().Report_Date}} - {{item.payload.doc.data().Report_Time}}</h2>
          <h2>{{item.payload.doc.data().Event_location}}</h2><br>
          <p>{{item.payload.doc.data().Event_description}}</p><br>
        </ion-label>



    </ion-item> 
  </ion-list>  
</ion-content>
